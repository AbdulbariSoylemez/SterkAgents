<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>EÄŸitim - SterkAgents</title>
    <link rel="stylesheet" href="/static/css/video_style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="video-page">
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <div class="welcome-text">BTK Akademi - EÄŸitim</div>
            <a href="/" class="btk-logo">
                <div class="btk-icon">BTK</div>
                <div class="btk-text">BTK AKADEMÄ°</div>
            </a>
        </div>
    </header>
    
    <div class="video-main-container">
        <div class="video-container">
        <div class="video-loading" id="video-loading">
            <div class="loading-spinner">
                <i class="fas fa-spinner fa-spin"></i>
                <span>Video yÃ¼kleniyor...</span>
            </div>
            <div class="loading-progress" id="loading-progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
        <video id="video-player" controls style="display: none;" preload="auto" playsinline muted>
            <source src="" type="video/mp4">
            TarayÄ±cÄ±nÄ±z video etiketini desteklemiyor.
        </video>
    </div>
    
    <div class="video-sidebar">
        <div class="sidebar-header">
            <button class="hamburger-menu" id="hamburger-menu" onclick="toggleSidebar()">
                <i class="fas fa-bars"></i>
            </button>
            <h2 class="course-title" id="course-title">Cursor ile YazÄ±lÄ±m GeliÅŸtirme</h2>
            <button class="logout-btn" id="logout-btn">
                <i class="fas fa-sign-out-alt"></i>
                <span>Ã‡Ä±kÄ±ÅŸ</span>
            </button>
        </div>
        
        <div class="progress-container">
            <div class="progress-circle" id="progress-circle">
                <span>6%</span>
            </div>
            <div class="progress-text">Toplam SÃ¼re: 48d 55sn</div>
        </div>
        
        <div class="tabs">
            <button class="tab-btn active" data-tab="icerik">
                <i class="fas fa-list"></i>
                <span>Ä°Ã§erikler</span>
            </button>
            <button class="tab-btn" data-tab="notlar">
                <i class="fas fa-sticky-note"></i>
                <span>NotlarÄ±m</span>
            </button>
        </div>
        
        <div class="tab-content active" id="tab-icerik">
            <ul class="module-list" id="module-list">
                <!-- Video iÃ§erikleri JavaScript tarafÄ±ndan dinamik olarak yÃ¼klenecek -->
                <div class="video-loading" style="padding: 20px; text-align: center;">
                    <i class="fas fa-spinner fa-spin"></i> <span id="loading-text">Ä°Ã§erikler yÃ¼kleniyor...</span>
                </div>
            </ul>
        </div>
        
        <div class="tab-content" id="tab-notlar">
            <div class="notes-placeholder">
                <i class="fas fa-sticky-note"></i>
                <p>NotlarÄ±nÄ±zÄ± buraya ekleyebilirsiniz.</p>
                <p class="coming-soon">Bu Ã¶zellik yakÄ±nda eklenecek.</p>
            </div>
        </div>
        
        <!-- Assistant Chat Widget -->
        <div class="assistant-widget" id="assistant-widget">
            <div class="assistant-toggle" id="assistant-toggle">
                <i class="fas fa-brain"></i>
            </div>
            
            <div class="assistant-section" id="assistant-section">
                <div class="assistant-header">
                    <div class="assistant-title">SterkAgents AI</div>
                    <button class="assistant-close" id="assistant-close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div id="chat-history">
                    <div class="assistant-msg">
                        <p>ðŸ‘‹ <strong>Merhaba!</strong> Ben SterkAgents AI, eÄŸitim asistanÄ±nÄ±z.</p>
                        <ul>
                            <li>Sorunuzu Memnuyetle dinlerim</li>
                        </ul>
                    </div>
                </div>
                <form id="chat-form">
                    <input type="text" id="user-question" placeholder="Sorunuzu yazÄ±n..." required />
                    <button type="submit">
                        <i class="fas fa-paper-plane"></i>
                        <span>GÃ¶nder</span>
                    </button>
                </form>
            </div>
        </div>
    </div>
    </div>

    <script>
        // Video loading functionality
        // Not: Bu event listener egitim.js dosyasÄ±nda zaten var ve daha kapsamlÄ± iÅŸlemler yapÄ±yor
        // Bu nedenle buradaki event listener kaldÄ±rÄ±ldÄ±

        // Navbar logo/isim tÄ±klanÄ±nca ana sayfa
        document.addEventListener('DOMContentLoaded', function() {
            const logo = document.querySelector('.btk-logo');
            if (logo) {
                logo.style.cursor = 'pointer';
                logo.onclick = () => window.location.href = '/';
            }
        });

        // Sekme yÃ¶netimi
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(tc => tc.classList.remove('active'));
                
                this.classList.add('active');
                document.getElementById('tab-' + this.dataset.tab).classList.add('active');
            });
        });

        // Ã‡Ä±kÄ±ÅŸ butonu
        document.getElementById('logout-btn').addEventListener('click', function() {
            window.location.href = '/';
        });
        
        // Hamburger menÃ¼ iÅŸlevi
        function toggleSidebar() {
            const sidebar = document.querySelector('.video-sidebar');
            sidebar.classList.toggle('collapsed');
            
            // Sidebar durumunu localStorage'a kaydet
            const isCollapsed = sidebar.classList.contains('collapsed');
            localStorage.setItem('sidebar_collapsed', isCollapsed);
            
            // Video container boyutunu ayarla
            const videoContainer = document.querySelector('.video-container');
            if (isCollapsed) {
                videoContainer.style.flex = '5';
            } else {
                videoContainer.style.flex = '3';
            }
        }
        
        // Sayfa yÃ¼klendiÄŸinde Ã¶nceki sidebar durumunu kontrol et
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.querySelector('.video-sidebar');
            const isCollapsed = localStorage.getItem('sidebar_collapsed') === 'true';
            
            if (isCollapsed) {
                sidebar.classList.add('collapsed');
                document.querySelector('.video-container').style.flex = '5';
            }
        });
    </script>
    <script src="/static/js/egitim.js"></script>
</body>
</html>